spring.application.name=podcast-indexer

# Database
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:podcast_indexer}
spring.datasource.username=${DB_USER:postgres}
spring.datasource.password=${DB_PASSWORD:postgres}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Redis
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}

# File storage
podcast.audio.storage.path=${AUDIO_STORAGE_PATH:/app/data/audio}

# Audio splitting
podcast.audio.max-minutes-before-split=${MAX_MINUTES_BEFORE_SPLIT:60}

# Whisper service
podcast.whisper.service.url=${WHISPER_SERVICE_URL:http://whisper-service:8000}

# Ollama service
podcast.ollama.service.url=${OLLAMA_SERVICE_URL:http://ollama:11434}
podcast.ollama.embedding.model=${OLLAMA_EMBEDDING_MODEL:nomic-embed-text}
podcast.ollama.chat.model=${OLLAMA_CHAT_MODEL:llama2}

# Vector search
podcast.vector.search.top-k=${VECTOR_SEARCH_TOP_K:5}

# Job worker
podcast.jobs.worker.parallelism=${JOB_WORKER_PARALLELISM:1}
podcast.jobs.worker.poll-delay-ms=${JOB_WORKER_POLL_DELAY_MS:1000}
podcast.jobs.queue.status-limit=${JOB_QUEUE_STATUS_LIMIT:50}

# Server
server.port=${SERVER_PORT:8080}

# CORS
podcast.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000}

# Actuator
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=always

# Jackson
spring.jackson.serialization.write-dates-as-timestamps=false
